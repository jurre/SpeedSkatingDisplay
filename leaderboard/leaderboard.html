<head>
  <title>Leaderboard</title>
</head>

<body>
  <div class="outer">
    <h1>Real-time skating races</h1>
  </div>
  <div class="row-fluid">
    <div class="span8 outer">
      {{> current_match}}
    </div>
    <div class="span4 outer">
      {{> leaderboard}}
    </div>
  </div>
</body>

<template name="leaderboard">
  <div class="leaderboard well">
    <h3>Leaderboard</h3>
    <ol>
      {{#each players}}
        {{> player}}
      {{/each}}
  </ol>
  </div>
</template>

<template name="player">
    <li>
      <div class="player {{selected}}">
        <div class="name">{{name}}</div>
        <div class="total-time">{{total_time}}</div>
    </div>
    </li>
</template>


<template name="current_match">
  <div class="well">
    <h3>Current match</h3>
    <table class="table table-bordered">
      <thead>
        <th>Name</th>
        <th>#</th>
        <th>Lap time</th>
        <th>Total time</th>
      </thead>
      <tbody>
        {{#each current_lap_data}}
          {{> lap_data}}
        {{/each}}
      </tbody>
    </table>
  </div>
</template>

<template name="lap_data">
  <tr>
    <td class="text-info"><b>{{name}}</b></td>
    <td><b>{{round}}</b></td>
    <td>{{lap_time}}</td>
    <td>{{total_time}} {{#if difference}}<span class="label label-important">{{difference}}</span>{{/if}}</td>

  </tr>
</template>